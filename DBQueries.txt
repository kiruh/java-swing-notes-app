DROP TABLE Note IF EXISTS;
CREATE TABLE Note (
    id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    title VARCHAR(255) NOT NULL,
    text VARCHAR NOT NULL,
    createdAt TIMESTAMP NOT NULL,
    updatedAt TIMESTAMP NOT NULL,
);

DROP TABLE Tag IF EXISTS;
CREATE TABLE Tag (
    id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    value VARCHAR(255) NOT NULL,
    UNIQUE KEY tag_value_unique (value),
);

DROP TABLE NoteTag IF EXISTS;
CREATE TABLE NoteTag (
    id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    noteId INT NOT NULL,
    tagId INT NOT NULL,
    FOREIGN KEY (noteId) REFERENCES Note(id) ON DELETE CASCADE,
    FOREIGN KEY (tagId) REFERENCES Tag(id) ON DELETE CASCADE,
);

INSERT INTO Note(id, title, text, createdAt, updatedAt) VALUES
(8, STRINGDECODE('You\u2019re Doing The Wrong Drugs'), STRINGDECODE('I recently switched meds. By early February of this year it was apparent that the antidepressants I had been taking were not doing the job. I went to see my doctor and he recommended a switch from Duloxetine to Cipralex. Within two to three weeks my brain was a much more pleasant place to be. The nagging fatigue that had been plaguing me for months had subsided. My memory had improved. Everything seems to be where it should be for non-sucky daily living.\n\nI had been on Duloxetine since 2013. Before that my go-to mood stabilizer was good, old-fashioned alcohol, an antidepressant I continued to take until the fall of 2015, and have abstained from completely since a brief relapse in the fall of 2016. Having experienced life under the influence of these three drugs, as well as some others on a more sporadic basis, I feel like I\u2019m in a position to comment on their relative pros and cons. And having been free from booze for nearly a full year and a half now, I feel I can say this with the utmost confidence: You\u2019re all doing the wrong drugs!\n\nEverything we do in this life serves to alter our conscious states, a fact that Sam Harris astutely observes in his remarkable book Waking Up: A Guide to Spirituality Without Religion. It\u2019s true. Everything we ever do, whether shifting our posture in our seat or eating specific foods or applying for a car loan, is motivated at bottom by a desire to reach a state of mental satisfaction that is marginally better than before. Drugs are perhaps the most obvious thing we do to alter the landscapes of our mind. However, perhaps as a result of our society\u2019s demonization of certain substances and edification of others, combined with a still murky understanding of the inner workings of the brain, we still make terribly counterproductive decisions regarding the drugs we take.\n\nAlcohol is the clearest example of a drug that we, at least in western society, look to as a panacea in spite of a preponderance of evidence that it makes many of our lives worse. The more we rely on it as a social lubricant, the more dependent on it we become\u200a\u2014\u200aand the worse we become at communicating with one another while not under its influence. In this way, alcohol strikes me as the perfect example of what evolutionary theorist David Krakauer calls a \u201ccompetitive cognitive artifact\u201d\u200a\u2014\u200aan \u201cinnovation\u201d which, far from improving our overall ability to overcome adversity, actually undermines our ability to function without it.\n\nCalculators vs. abacuses\nIn his writings on complexity, Krakauer frequently refers to two diametrically opposed types of cultural artifacts: \u201ccompetitive\u201d and \u201ccomplimentary\u201d artifacts. Throughout history, human beings have invented objects, ideas, and institutions aimed at improving our lives. Many of these, Krakauer asserts, not only provide the advertised benefits to society but also improve us in other ways\u200a\u2014\u200asuch that if the artifact in question were to be removed, we would be left in a better state than had we never had it at all.\n\nKrakauer\u2019s go-to example of a \u201ccomplimentary\u201d cultural artifact is the abacus, an ancient invention that still does heavy lifting in many Asian countries and is the classic example of a device that changes how your brain works for the better. By contrast, Krakauer cites the pocket calculator as an example of a \u201ccompetitive\u201d cultural artifact. Not only does it not make you better at arithmetic, but it actually makes you worse\u200a\u2014\u200ausers forget how to do long division and other mathematical functions that would be at a premium if all the world\u2019s calculators (and cell phones) disappeared overnight.\n\nOther examples of complimentary cultural artifacts might include pens and other handwriting implements (which have been shown to play an important role in cognitive processes), musical instruments, and even human language itself. As anybody with multiple languages at their disposal can attest, the more languages you learn, the easier language learning itself becomes. Conversely, our world is replete with competitive cultural artifacts such as automobiles (which encourage us to become fat and lazy), GPS technology (which undermines our navigational aptitudes), and the internet generally, which appears not only to be spectacularly failing at making us all better informed but is arguably undermining our ability to seek truth.\n\nThis is not to say that all of our competitive cultural artifacts should be abolished\u200a\u2014\u200aKrakauer does not make such an argument either. However, he does argue that we need to be more cognizant of what all the stuff we\u2019ve foisted on our civilization is actually doing to us, and where necessary, to find better ways of getting the same benefits.'), TIMESTAMP '2018-06-06 05:51:38.22', TIMESTAMP '2018-06-06 05:51:38.22'),
(9, 'Facebook Fabricates Trust Through Fake Intimacy', STRINGDECODE('magine owning a robot that\u2019s programmed to follow your orders, no matter what. With full predictability guaranteed, you\u2019d be assured of absolute compliance and would never have to utter the anguished words, \u201cEt tu, Beep Boop? I trusted you!\u201d\n\nIf someone says, \u201cI don\u2019t trust technology,\u201d she\u2019s probably speaking in overly general terms. If she gets more specific and says, \u201cWell, what I mean is I don\u2019t trust self-driving cars,\u201d she\u2019s still off the mark. This statement really says she\u2019s skeptical of the competence or good faith of self-driving car designers, companies, marketers, safety inspectors, reporters, regulators, or insurers. Her suspicion is that one or more of these parties in the sociotechnical system is putting lives in danger by making unreliable claims about how the cars will perform.\n\nThese (and countless other) examples of how we interact with technology show that trust always involves three things: vulnerability, risk, and power. When we offer up our trust, mild and momentary disappointment can follow, as can the tragedy of a betrayal that irrevocably severs ties. Without these risks, trust can\u2019t exist. To be trusting, you have to relinquish control. And tech companies like Facebook\u2014though it\u2019s certainly not the only one\u2014know this.'), TIMESTAMP '2018-06-06 05:52:25.53', TIMESTAMP '2018-06-06 05:52:25.53'),
(10, 'Our Dads Are Cool, They Have Guns', STRINGDECODE('After spending the day with two of her best friends, my fifth grader walked into the kitchen and stood there, looking sad.\n\nWhat\u2019s up?\n\n7 & 11 said their dads are cool because they have guns. They said daddy wouldn\u2019t be able to protect us if someone broke into our house. I told them we would just call the police. They said there wouldn\u2019t be enough time. I told them we\u2019re an anti-gun family. 7 showed me the locked black box where her dad keeps the guns.\n\nDid 7 mention what kind of guns? A rifle and pistol and BB guns.\n\nDo you feel scared? No.\n\nDo you feel kind of left out because 7 & 11 have that in common? I guess so. Yeah.\n\nWhat followed was a conversation about differences and how we love our friends and family no less. I kept talking, possibly too long. \u201cOkay, mom. I get it,\u201d she said, backing away from the 16 oz. can of mom talk she\u2019d opened. I told her I was proud of her principles and reminded her what awesome humans her friends are (and they truly are) and that they love her no less for being anti-gun. Just like I love daddy even though he watches golf.\n\nI\u2019ve known about the guns in 7\u2019s house. The parents told me long ago and offered to show me where the guns were locked, with bullets stored separately. I certainly appreciate the responsibility. If only all gun owners were like 7\u2019s dad. Though\u2026 such highly secured guns won\u2019t help much when it comes to murderers in the dead of night. Watch this three-minute clip of comedian Jim Jeffries. It\u2019s hilarious and profound. (If anyone has a sound rebuttal to Mr. Jeffries, I\u2019d love to hear it.) After viewing this clip, one wonders why keep a gun at all, especially since doing so increases the chance of death for everyone inside your home, visitors included.\n\nIf you bring a puppy into your house, the chance of it peeing on your rug is infinitely higher than if you had not brought a puppy into your house. Puppies pee. Guns shoot. Except puppies do plenty of other things, too. There is no other thing a gun does. You don\u2019t slice an apricot with a Glock. It\u2019s an accident when a gun doesn\u2019t kill you.\n\nMaybe some folks keep guns for sentimental reasons? It was my daddy\u2019s gun. My father once had a large kidney stone removed. He kept it in the top drawer of his bureau, wrapped in cotton inside a small box. I suppose I could have saved it, taken it out, looked at it every so often. Grief does funny things. But I didn\u2019t. I\u2019ve got pictures of my dad and I\u2019ve got memories. Maybe folks should keep the memory of their father using his gun, rather than the gun itself? Just a suggestion.\n\n'), TIMESTAMP '2018-06-06 05:53:47.167', TIMESTAMP '2018-06-06 05:53:47.167'),
(11, 'Structuring projects and naming components in React', STRINGDECODE('As React is just a lib, it doesn\u2019t dictate rules about how you should organize and structure your projects. This is nice, because it gives us freedom to try different approaches and adapt the ones that better fit for us. On the other hand, this could cause some confusion for devs that are starting in React world.\n\nIn this post, I\u2019m going to show some approaches that I have been using for a while and have been scaling very well. These approaches doesn\u2019t re-create the wheel, they just put together and refine what we have on the market.\n\nRemember: Nothing here is written in rocks! You can take only the approaches you think that make sense and adapt/change it to fit in your context.\nFolder Structure\nOne of the questions I often see is regarding to how structure files and folders. In this post, we are considering you have a minimum structure, as the one created with create-react-app.\n\nThe create-react-app generates a basic project for us, containing in its root, the files: .gitinore, package.json, README.md, yarn.lock\n\nIt also generates the folders: public and src. The last one is where we keep our source code.\n\n'), TIMESTAMP '2018-06-06 05:54:49.607', TIMESTAMP '2018-06-06 06:02:57.842'),
(12, 'GitHub, Glitch and the Future of Social Coding', STRINGDECODE('Here\u2019s the short version: We\u2019re excited about GitHub becoming part of Microsoft, and think it\u2019ll be good news for developers. But based on the huge adoption we\u2019re seeing for Glitch and our own decade of experience in building version control tools, it\u2019s clear many developers also think it\u2019s time to explore new approaches, so we want to build on this milestone for the coding community by articulating a new vision for social coding.\n\n\nGitHub + Microsoft = Good \ud83d\udc4d\nLet\u2019s put it short and sweet: Microsoft buying GitHub is likely to be good news for developers. There\u2019s no better evidence of how Microsoft has been revitalized under the leadership of Satya Nadella than to point to bold moves like this, which would have seemed incredible (and also not seemed credible!) in the past. Old-timers can remember when Microsoft was often described as the Evil Empire, but their moves to embrace open source and non-Windows platforms have seemed sincere and sustained, and we\u2019re happy to see that flourish.\n\nSimilarly, GitHub has earned its place as an indispensable developer platform through breaking ground as the first large-scale social coding experience over 10 years ago. Having strong leadership from Microsoft can only be good news, especially for developers using Microsoft platforms.\n\nBut if we have a concern, it\u2019s that there hasn\u2019t been a huge leap forward in social coding in the last decade. We simply haven\u2019t seen enough innovation in recent years in the way that coders collaborate, and since every developer will be thinking about these big ideas right now, we wanted to paint a picture of what social coding could look like over the next decade. A lot of people will (understandably) be thinking about backing up their GitHub projects just in case, and we think you should use that opportunity to look at Glitch and consider if it\u2019s time to rethink traditional views on version control entirely.\n\n(Spoilers: If you\u2019re using Glitch, you\u2019ve already got a preview of where we\u2019re headed. If you\u2019re not, here\u2019s how to import a GitHub repo to Glitch. If you have a Node app that you\u2019ve built or like to use, start with that!)'), TIMESTAMP '2018-06-06 06:04:32.748', TIMESTAMP '2018-06-06 06:04:32.748');      

INSERT INTO Tag(id, value) VALUES
(8, 'drugs'),
(9, 'leaks'),
(10, 'spying'),
(11, 'facebook'),
(12, 'guns'),
(13, 'violence'),
(14, 'code'),
(15, 'js'),
(16, 'react'),
(17, 'programming'),
(18, 'github'),
(19, 'open-source'),
(20, 'microsoft');  

INSERT INTO NoteTag (id, noteId, tagId) VALUES
(8, 8, 8),
(9, 9, 9),
(10, 9, 10),
(11, 9, 11),
(12, 10, 12),
(13, 10, 13),
(18, 11, 14),
(19, 11, 15),
(20, 11, 16),
(21, 11, 17),
(22, 12, 9),
(23, 12, 18),
(24, 12, 19),
(25, 12, 20);